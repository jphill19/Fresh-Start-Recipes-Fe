(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[260],{6260:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var n=t(4848),u=t(6540),c=t(842),o=t.n(c);t(265),o().accessToken="pk.eyJ1IjoianBoaWxsMTk4OSIsImEiOiJjbTM2amN0ejAwNjFtMmtwb2YwY3N2ZXdxIn0.kYFDwq3xUOcqlEPiheXUGw";let s=function(e){let{locations:r,userLocation:t,onLocationClick:c}=e,s=(0,u.useRef)(null),l=(0,u.useRef)(null),i=(0,u.useRef)(null),a=(0,u.useRef)([]);return(0,u.useEffect)(()=>{if(l.current)return;let e=t?[t.longitude,t.latitude]:[-104.998818,39.757185];try{l.current=new(o()).Map({container:s.current,style:"mapbox://styles/mapbox/streets-v11",center:e,zoom:13})}catch(e){console.error("Error initializing map:",e)}let r=()=>l.current.resize();return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r),l.current&&l.current.remove()}},[]),(0,u.useEffect)(()=>{l.current&&(a.current.forEach(e=>e.remove()),a.current=[],r.forEach(e=>{let{latitude:r,longitude:t}=e.geolocation;if("number"==typeof r&&"number"==typeof t){let n=new(o()).Marker().setLngLat([t,r]).addTo(l.current),u=new(o()).Popup({offset:20}).setHTML(`
            <h3>${e.name}</h3>
          `);n.setPopup(u),n.getElement().addEventListener("click",()=>c(e)),a.current.push(n)}else console.warn("Invalid latitude or longitude:",e)}))},[r,c]),(0,u.useEffect)(()=>{if(l.current&&t){let{latitude:e,longitude:r}=t;i.current&&i.current.latitude===e&&i.current.longitude===r||(l.current.flyTo({center:[r,e],zoom:13}),i.current=t)}},[t]),(0,n.jsx)("div",{className:"w-full h-[400px]",ref:s})}},265:()=>{}}]);