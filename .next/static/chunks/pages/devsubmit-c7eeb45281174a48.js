(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{7280:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/devsubmit",function(){return r(2726)}])},1545:(e,t,r)=>{"use strict";async function n(e){let t=`https://whispering-thicket-76959-66145e05673c.herokuapp.com/api/v1/recipes?${e}`;try{let e=await fetch(t,{mode:"cors"});if(!e.ok)throw Error(`Network response was not ok: ${e.statusText}`);return await e.json()}catch(e){throw console.error("Fetch error:",e),e}}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"for_ingredient=",r=`https://whispering-thicket-76959-66145e05673c.herokuapp.com/api/v1/ingredients?${t}${e}`;try{let e=await fetch(r,{mode:"cors"});if(!e.ok)throw Error(`Network response was not ok: ${e.statusText}`);return await e.json()}catch(e){throw console.error("Fetch error:",e),e}}async function s(e,t){console.log("post_submit",e);let r={method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify(e),mode:"cors"};try{let e=await fetch("https://whispering-thicket-76959-66145e05673c.herokuapp.com/api/v1/recipe_builders",r);if(!e.ok)throw Error(`Network response was not ok: ${e.statusText}`);return await e.json()}catch(e){throw console.log("error",e),console.error("Fetch error:",e),e}}async function a(e,t){let r=`https://whispering-thicket-76959-66145e05673c.herokuapp.com/api/v1/locations?lat=${e}&long=${t}`;try{let e=await fetch(r,{mode:"cors"});if(!e.ok){let t=await e.json();throw Error(`Fetch error: ${t.message} (Status: ${t.status})`)}return await e.json()}catch(e){throw console.error("Fetch error:",e),e}}async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=`https://whispering-thicket-76959-66145e05673c.herokuapp.com/api/v1/recipes/${e}`;t&&(r+=`?by_location=${t}`);try{let e=await fetch(r);if(!e.ok)throw Error(`Network response was not ok: ${e.statusText}`);return await e.json()}catch(e){throw console.error("Fetch error:",e),e}}r.d(t,{Nu:()=>n,Qo:()=>a,bj:()=>i,uE:()=>o,z$:()=>s})},2726:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(4848),o=r(6540),s=r(1545);let a=function(e){let{setQuantity:t,setMeasurement:r,setProductId:a,setPrice:i,setIngredient:l,quantity:c,measurement:u}=e,[d,p]=(0,o.useState)(""),[h,g]=(0,o.useState)(""),[m,x]=(0,o.useState)([]),[b,f]=(0,o.useState)(null);console.log("filterData"),(0,o.useEffect)(()=>{let e=setTimeout(()=>{g(d)},500);return()=>clearTimeout(e)},[d]),(0,o.useEffect)(()=>{(async()=>{if(h)try{let e=await (0,s.uE)(h,"for_dev=");x(e.data)}catch(e){console.error("Error fetching data:",e),x([])}else x([])})()},[h]);let w=(e,t)=>{t(e.target.value)},y=e=>{f(e.product_ID),i(e.price),l(e.description),a(e.product_ID)};return(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)("input",{type:"number",placeholder:"Quantity",name:"quantity",onChange:e=>w(e,t),value:c,required:!0}),(0,n.jsx)("input",{type:"text",placeholder:"Unit of Measure",name:"measurement",onChange:e=>w(e,r),value:u,required:!0}),(0,n.jsx)("h2",{children:"Ingredient"}),(0,n.jsx)("p",{children:"Input a name of an ingredient then select from checkbox"}),(0,n.jsx)("input",{type:"text",placeholder:"Search by Ingredient",value:d,onChange:e=>w(e,p),className:"search-input"}),(0,n.jsx)("div",{children:m.length>0?m.map(e=>(0,n.jsxs)("div",{className:"filter-checkbox",children:[(0,n.jsx)("input",{type:"checkbox",id:`checkbox-${e.product_ID}`,checked:b===e.product_ID,onChange:()=>y(e)}),(0,n.jsxs)("label",{htmlFor:`checkbox-${e.product_ID}`,children:[e.description,e.price]})]},e.product_ID)):h&&(0,n.jsxs)("p",{className:"no-results-message",children:['No ingredients found for "',h,'".']})})]})},i=function(e){let{onClose:t,onFilterChange:r}=e,[s,i]=(0,o.useState)(null),[l,c]=(0,o.useState)(""),[u,d]=(0,o.useState)(""),[p,h]=(0,o.useState)(""),[g,m]=(0,o.useState)(""),[x,b]=(0,o.useState)("");return(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-[1000]",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg p-5 w-4/5 max-w-[500px] max-h-[80vh] shadow-lg relative z-[1001] flex flex-col animate-fadeIn",children:[(0,n.jsx)(a,{quantity:l,setQuantity:c,measurement:u,setMeasurement:d,setIngredient:h,setPrice:m,setProductId:b}),(0,n.jsxs)("div",{className:"flex justify-end gap-2.5 mt-5",children:[(0,n.jsx)("button",{className:"py-2.5 px-4 rounded cursor-pointer text-base bg-[#f0f0f0] text-[#333]",onClick:t,children:"Reset"}),(0,n.jsx)("button",{className:"py-2.5 px-4 rounded cursor-pointer text-base bg-[#ff6b6b] text-white",onClick:()=>{r({quantity:l,measurement:u,ingredient:p,price:g,productId:x}),t()},children:"Add Ingredient"})]})]})})},l=function(){let[e,t]=(0,o.useState)(""),[r,a]=(0,o.useState)(""),[l,c]=(0,o.useState)(""),[u,d]=(0,o.useState)(""),[p,h]=(0,o.useState)([{cookingStyle:"",step:"",instruction:""}]),[g,m]=(0,o.useState)([]),[x,b]=(0,o.useState)([{tip:""}]),[f,w]=(0,o.useState)([{cookware:""}]),[y,v]=(0,o.useState)(null),j=(e,t,r,n)=>{let o=[...r];o[t][e.target.name]=e.target.value,n(o)},k=(e,t,r,n)=>{e.preventDefault();let o=[...r];o.splice(t,1),n(o)};return(0,n.jsxs)(o.Fragment,{children:[(0,n.jsxs)("form",{onSubmit:n=>{n.preventDefault(),(0,s.z$)({name:e,serving_size:r,image_url:l,cooking_tips:x,cookware:f,ingredients:g,instructions:p},u).then(e=>{console.log("Recipe posted successfully:",e),t(""),a(""),c(""),b([{tip:""}]),w([{cookware:""}]),m([]),h([{cookingStyle:"",step:"",instruction:""}])}).catch(e=>{console.error("Error posting recipe:",e)})},onKeyDown:e=>{"Enter"===e.key&&"button"!==e.target.tagName.toLowerCase()&&e.preventDefault()},className:"flex flex-col items-center gap-4 p-6 bg-gray-100 rounded-lg shadow-lg",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Submit Recipe"}),(0,n.jsx)("input",{type:"text",placeholder:"Recipe Name",name:"name",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,n.jsx)("input",{type:"text",placeholder:"Serving Size",name:"servingSize",value:r,onChange:e=>a(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,n.jsx)("input",{type:"text",placeholder:"Recipe Image url",name:"imageUrl",value:l,onChange:e=>c(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,n.jsx)("br",{}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Ingredients"}),g.map((e,t)=>(0,n.jsxs)("div",{className:"ingredient flex items-center justify-between gap-4 p-2 border border-gray-200 rounded bg-white",children:[(0,n.jsxs)("p",{className:"text-gray-600",children:[e.quantity," ",e.measurement," ",e.ingredient]}),(0,n.jsx)("button",{onClick:e=>k(e,t,g,m),className:"text-red-500 hover:underline",children:"Remove"})]},t)),(0,n.jsx)("button",{onClick:e=>{e.preventDefault(),v(!0)},className:"p-2 mt-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Ingredient"}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Instructions"}),p.map((e,t)=>(0,n.jsxs)("div",{className:"instruction flex flex-col gap-2 p-4 border border-gray-200 rounded bg-white",children:[(0,n.jsxs)("select",{name:"cookingStyle",onChange:e=>j(e,t,p,h),value:e.cookingStyle,required:!0,className:"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"",children:"Select Cooking Style"}),(0,n.jsx)("option",{value:"0",children:"No Cooking Required"}),(0,n.jsx)("option",{value:"1",children:"Microwave"}),(0,n.jsx)("option",{value:"2",children:"Stove Top"}),(0,n.jsx)("option",{value:"3",children:"Oven / Toaster Oven"})]}),(0,n.jsx)("input",{type:"number",placeholder:"Step",name:"step",onChange:e=>j(e,t,p,h),value:e.step,required:!0,className:"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,n.jsx)("input",{type:"text",placeholder:"Instruction",name:"instruction",onChange:e=>j(e,t,p,h),value:e.instruction,required:!0,className:"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,n.jsx)("button",{onClick:e=>k(e,t,p,h),className:"text-red-500 hover:underline",children:"Remove"})]},t)),(0,n.jsx)("button",{onClick:e=>{e.preventDefault(),h([...p,{cookingStyle:"",step:"",instruction:""}])},className:"p-2 mt-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Instruction"}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Cookware"}),f.map((e,t)=>(0,n.jsxs)("div",{className:"cookware flex items-center justify-between gap-4 p-2 border border-gray-200 rounded bg-white",children:[(0,n.jsx)("input",{type:"text",placeholder:"Cookware",name:"cookware",value:e.cookware,onChange:e=>j(e,t,f,w),required:!0,className:"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,n.jsx)("button",{onClick:e=>k(e,t,f,w),className:"text-red-500 hover:underline",children:"Remove"})]},t)),(0,n.jsx)("button",{onClick:e=>{e.preventDefault(),w([...f,{cookware:""}])},className:"p-2 mt-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Cookware"}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Cooking Tips"}),x.map((e,t)=>(0,n.jsxs)("div",{className:"cookingTip flex items-center justify-between gap-4 p-2 border border-gray-200 rounded bg-white",children:[(0,n.jsx)("input",{type:"text",placeholder:"Tip",name:"tip",value:e.tip,onChange:e=>j(e,t,x,b),required:!0,className:"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,n.jsx)("button",{onClick:e=>k(e,t,x,b),className:"text-red-500 hover:underline",children:"Remove"})]},t)),(0,n.jsx)("button",{onClick:e=>{e.preventDefault(),b([...x,{tip:""}])},className:"p-2 mt-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Cooking Tip"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"text",placeholder:"API key",name:"apiKey",value:u,onChange:e=>d(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{type:"submit",className:"p-3 bg-green-500 text-white rounded hover:bg-green-600",children:"SUBMIT"})]}),y&&(0,n.jsx)(i,{onClose:()=>{v(null)},onFilterChange:e=>{m(t=>[...t,e])}})]})};function c(){return(0,n.jsx)(l,{})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(7280)),_N_E=e.O()}]);